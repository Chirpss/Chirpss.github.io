<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <title>CHIRPSS | More or Less</title>
    <link rel="icon" type="image/x-icon" href="/logo.ico">

    <script src="https://chirpss.github.io/Cookies.js"></script>

    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'deep-twilight': '#1C2A39',
                        'warm-dusk': '#E87040',
                        'fiery-core': '#FFC35B',
                        'soft-horizon': '#F5F1E6',
                        'subtle-gray': '#5A6F82',
                        'success-green': '#6CCF6C',
                        'danger-red': '#FF6B6B'
                    }
                }
            }
        }
    </script>
    <style>
        body { 
            background-color: #1C2A39; 
            color: #F5F1E6; 
            font-family: 'Inter', sans-serif; 
            height: 100vh;
            height: 100dvh;
            overflow: hidden;
        }
        .btn-choice { transition: transform 0.1s; }
        .btn-choice:active { transform: scale(0.95); }
    </style>
</head>
<body class="flex flex-col">

    <header class="bg-deep-twilight border-b border-subtle-gray/30 p-4 sticky top-0 z-10 flex-none">
        <div class="max-w-7xl mx-auto flex justify-between items-center w-full">
            <a href="https://chirpss.github.io" class="hover:opacity-90 transition-opacity flex-shrink-0">
                <h1 class="hidden sm:block text-2xl font-bold text-fiery-core/90">CHIRPSS Game hub</h1>
                <h1 class="sm:hidden text-2xl font-bold text-fiery-core/90">CHIRPSS</h1>
            </a>
            
            <div class="flex items-center gap-2">
                <div class="font-bold text-lg bg-input-bg px-3 py-1 rounded-lg border border-subtle-gray/30">
                    Score: <span id="score-display" class="text-fiery-core">0</span>
                </div>
            </div>
        </div>
    </header>

    <div class="flex-grow flex flex-col p-4 relative overflow-y-auto w-full max-w-2xl mx-auto">
        
        <div id="game-view" class="flex flex-col h-full justify-between pb-4">
            
            <div class="flex-grow flex flex-col items-center justify-center">
                <div class="text-center space-y-6 w-full">
                    <p id="prompt-text" class="text-xl md:text-2xl text-white font-medium leading-snug">Loading...</p>
                    
                    <div class="bg-black/30 p-6 rounded-2xl border border-white/10 w-full shadow-lg">
                        <p class="text-sm text-subtle-gray uppercase tracking-widest mb-1">Benchmark</p>
                        <h1 id="benchmark-display" class="text-4xl md:text-6xl font-extrabold text-fiery-core">...</h1>
                    </div>
                    
                    <p class="text-subtle-gray italic">Is the real answer More or Less?</p>
                </div>
            </div>

            <div id="input-area" class="grid grid-cols-2 gap-4 h-32 mt-6">
                <button onclick="guess('more')" class="btn-choice bg-success-green rounded-2xl flex flex-col items-center justify-center shadow-lg border-2 border-transparent hover:border-white/20">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-deep-twilight mb-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 10l7-7m0 0l7 7m-7-7v18" />
                    </svg>
                    <span class="text-2xl font-black text-deep-twilight uppercase">More</span>
                </button>
                <button onclick="guess('less')" class="btn-choice bg-danger-red rounded-2xl flex flex-col items-center justify-center shadow-lg border-2 border-transparent hover:border-white/20">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-deep-twilight mb-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M19 14l-7 7m0 0l-7-7m7 7V3" />
                    </svg>
                    <span class="text-2xl font-black text-deep-twilight uppercase">Less</span>
                </button>
            </div>

            <div id="reveal-overlay" class="hidden absolute inset-0 z-20 bg-deep-twilight/95 backdrop-blur flex flex-col items-center justify-center text-center p-6 rounded-xl border border-white/10">
                <p class="text-subtle-gray uppercase tracking-widest mb-4">The Answer Is</p>
                <h1 id="actual-display" class="text-5xl font-extrabold text-white mb-8">...</h1>
                
                <div id="result-badge" class="px-6 py-3 rounded-full text-xl font-bold mb-8 transform scale-110">
                    ...
                </div>

                <button id="next-btn" onclick="nextRound()" class="w-full max-w-xs py-4 bg-soft-horizon text-deep-twilight font-bold text-xl rounded-xl shadow-lg hover:brightness-110 active:scale-95 transition-all">
                    Next Question
                </button>
            </div>
        </div>
    </div>

    <script>
        let questions = [];
        let index = 0;
        let score = 0;
        let currentQuestion = {};

        document.addEventListener('DOMContentLoaded', () => {
            const data = sessionStorage.getItem('mol_data');
            if(!data) {
                // If no data, go back to setup
                window.location.href = 'index.html';
                return;
            }
            questions = JSON.parse(data);
            loadQuestion();
        });

        function loadQuestion() {
            document.getElementById('reveal-overlay').classList.add('hidden');
            
            if(index >= questions.length) {
                // End of deck
                document.getElementById('game-view').innerHTML = `
                    <div class="flex flex-col items-center justify-center h-full text-center">
                        <h2 class="text-4xl font-bold mb-4 text-fiery-core">Game Over!</h2>
                        <p class="text-2xl mb-8">Final Score: <span class="text-white font-bold">${score}</span></p>
                        <button onclick="window.location.href='index.html'" class="px-8 py-4 bg-soft-horizon text-deep-twilight font-bold rounded-xl shadow-lg hover:brightness-110">Play Again</button>
                    </div>
                `;
                return;
            }

            currentQuestion = questions[index];
            document.getElementById('prompt-text').textContent = currentQuestion.prompt;
            document.getElementById('benchmark-display').textContent = currentQuestion.benchmarkDisplay;
        }

        function guess(userChoice) { // 'more' or 'less'
            // Logic: Is Actual > Benchmark?
            const isMore = currentQuestion.actual > currentQuestion.benchmark;
            const correctAnswer = isMore ? 'more' : 'less';
            
            const isCorrect = userChoice === correctAnswer;

            showReveal(isCorrect);
        }

        function showReveal(isCorrect) {
            document.getElementById('reveal-overlay').classList.remove('hidden');
            document.getElementById('actual-display').textContent = currentQuestion.actualDisplay;
            
            const badge = document.getElementById('result-badge');
            
            if (isCorrect) {
                score++;
                document.getElementById('score-display').textContent = score;
                badge.textContent = "Correct!";
                badge.className = "px-8 py-3 rounded-full text-2xl font-bold mb-8 transform scale-110 bg-success-green text-deep-twilight shadow-lg border-2 border-white/20";
            } else {
                badge.textContent = "Wrong!";
                badge.className = "px-8 py-3 rounded-full text-2xl font-bold mb-8 transform scale-110 bg-danger-red text-white shadow-lg border-2 border-warm-dusk/20";
            }
        }

        function nextRound() {
            index++;
            loadQuestion();
        }

    </script>
</body>
</html>
